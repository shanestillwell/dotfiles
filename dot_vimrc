"Filetype
filetype plugin on

source ~/.vim/startup/plugs.vim
source ~/.vim/startup/settings.vim
source ~/.vim/startup/mappings.vim

syntax on

augroup numbertoggle
  autocmd!
  autocmd BufEnter,FocusGained,InsertLeave * set relativenumber
  autocmd BufLeave,FocusLost,InsertEnter   * set norelativenumber
augroup END

" TOhtml formatting options
let g:html_font = "Hack Regular Nerd Font"


" https://sheerun.net/2014/03/21/how-to-boost-your-vim-productivity/
" vp doesn't replace paste buffer
" function! RestoreRegister()
"   let @" = s:restore_reg
"   return ''
" endfunction
" function! s:Repl()
"   let s:restore_reg = @"
"   return "p@=RestoreRegister()\<cr>"
" endfunction
" vmap <silent> <expr> p <sid>Repl()

color dracula " apprentice

" hi clear SpellBad
" hi SpellBad cterm=underline
" Fix a weird highlighting issue in Dracula
hi! link DraculaCyanItalic DraculaCyan
hi! link draculagreenitalic draculagreen

" Disable for now since it might cause slowdown
" set cursorline
hi CursorLine guibg=Grey20

autocmd VimEnter * source ~/.vim/abbreviations.vim

" File assocations
" autocmd! BufRead,BufNewFile *.njk set filetype=jinja
" autocmd! BufRead,BufNewFile *.html,*.njk  call jinja#AdjustFiletype()

" nmap <leader>sp :call <SID>SynStack()<CR>
" function! <SID>SynStack()
"   if !exists("*synstack")
"     return
"   endif
"   echo map(synstack(line('.'), col('.')), 'synIDattr(v:val, "name")')
" endfunc

" Set speling on for certain types of files
augroup markdownSpell
    autocmd!
    autocmd FileType markdown setlocal spell
    autocmd FileType html setlocal spell
augroup END

" New File templates
" https://vimtricks.com/p/automated-file-templates/
autocmd BufNewFile *.vue 0r ~/.vim/templates/vue.vue
